<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KDH PM TO-DO LIST</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;

    const initialProjects = [
      {
        id: 1,
        projectCode: 'P20260204-001',
        projectName: 'ë ‰ìŠ¤ì½”ë“œ ê¹€ë™í™˜',
        client: 'ë ‰ìŠ¤ì½”ë“œ',
        manager: 'ê¹€ë™í™˜',
        startDate: '2026-02-04',
        dueDate: '2026-02-10',
        languagePair: 'KO-EN',
        translator: 'í™ê¸¸ë™',
        translationDeadline: '2026-02-07',
        reviewer: 'ì´ì˜í¬',
        reviewDeadline: '2026-02-09',
        finalDelivery: '',
        notes: 'ê¸´ê¸‰ í”„ë¡œì íŠ¸'
      },
      {
        id: 2,
        projectCode: 'P20260203-002',
        projectName: 'ABCí™”ì¥í’ˆ ì œí’ˆì„¤ëª…ì„œ',
        client: 'ABCì½”ìŠ¤ë©”í‹±',
        manager: 'ê¹€ë™í™˜',
        startDate: '2026-02-03',
        dueDate: '2026-02-08',
        languagePair: 'KO-EN',
        translator: 'ë°•ì² ìˆ˜',
        translationDeadline: '2026-02-05',
        reviewer: 'ê¹€ë¯¸ì˜',
        reviewDeadline: '2026-02-07',
        finalDelivery: '',
        notes: ''
      },
      {
        id: 3,
        projectCode: 'P20260201-003',
        projectName: 'ì˜ë£Œê¸°ê¸° ë§¤ë‰´ì–¼',
        client: 'ë©”ë””í…',
        manager: 'ê¹€ë™í™˜',
        startDate: '2026-02-01',
        dueDate: '2026-02-15',
        languagePair: 'KO-JA',
        translator: 'ë‹¤ë‚˜ì¹´',
        translationDeadline: '2026-02-10',
        reviewer: 'ì‚¬í† ',
        reviewDeadline: '2026-02-13',
        finalDelivery: '',
        notes: 'ê¸°ìˆ ìš©ì–´ ê²€í†  í•„ìš”'
      },
      {
        id: 4,
        projectCode: 'P20260130-004',
        projectName: 'ë²•ë¥ ê³„ì•½ì„œ ë²ˆì—­',
        client: 'ë²•ë¬´ë²•ì¸ í•œë¹›',
        manager: 'ê¹€ë™í™˜',
        startDate: '2026-01-30',
        dueDate: '2026-02-06',
        languagePair: 'EN-KO',
        translator: 'ìµœì •ë¯¼',
        translationDeadline: '2026-02-03',
        reviewer: 'ê¹€ë™í™˜',
        reviewDeadline: '2026-02-05',
        finalDelivery: '2026-02-05',
        notes: ''
      }
    ];

    // ë‚ ì§œë¥¼ í•œêµ­ì–´ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    const formatDateKorean = (dateStr) => {
      if (!dateStr) return '-';
      const date = new Date(dateStr);
      return `${date.getFullYear()}ë…„ ${date.getMonth() + 1}ì›” ${date.getDate()}ì¼`;
    };

    // ì§„í–‰ìƒí™© ìë™ ê³„ì‚° í•¨ìˆ˜
    const calculateStatus = (project, todayStr) => {
      if (project.finalDelivery) return 'ë‚©í’ˆ';
      if (project.startDate === todayStr) return 'ì°©ìˆ˜';
      return 'ì§„í–‰';
    };

    // D-day í‘œì‹œ ì»´í¬ë„ŒíŠ¸
    const DdayBadge = ({ dday, finalDelivery }) => {
      if (finalDelivery) {
        return (
          <div className="flex items-center gap-1">
            <span className="text-green-500">âœ“</span>
            <span className="text-green-600">ì™„ë£Œ</span>
          </div>
        );
      }
      if (dday === null) return <span className="text-gray-400">-</span>;
      
      if (dday < 0) {
        return (
          <div className="flex items-center gap-1">
            <span className="w-3 h-3 rounded-full bg-red-500 inline-block"></span>
            <span className="text-red-600 font-semibold">D+{Math.abs(dday)}</span>
          </div>
        );
      }
      if (dday === 0) {
        return (
          <div className="flex items-center gap-1">
            <span className="w-3 h-3 rounded-full bg-red-500 inline-block"></span>
            <span className="text-red-600 font-semibold">D-day</span>
          </div>
        );
      }
      if (dday <= 2) {
        return (
          <div className="flex items-center gap-1">
            <span className="w-3 h-3 rounded-full bg-orange-400 inline-block"></span>
            <span className="text-orange-500 font-semibold">D-{dday}</span>
          </div>
        );
      }
      if (dday <= 5) {
        return (
          <div className="flex items-center gap-1">
            <span className="w-3 h-3 rounded-full bg-yellow-400 inline-block"></span>
            <span className="text-yellow-600">D-{dday}</span>
          </div>
        );
      }
      return (
        <div className="flex items-center gap-1">
          <span className="w-3 h-3 rounded-full bg-green-400 inline-block"></span>
          <span className="text-green-600">D-{dday}</span>
        </div>
      );
    };

    // ì§„í–‰ìƒí™© í‘œì‹œ ì»´í¬ë„ŒíŠ¸
    const StatusBadge = ({ status }) => {
      if (status === 'ë‚©í’ˆ') {
        return (
          <div className="flex items-center gap-1">
            <span className="text-green-500">âœ“</span>
            <span className="text-green-600">ë‚©í’ˆ</span>
          </div>
        );
      }
      if (status === 'ì°©ìˆ˜') {
        return (
          <div className="flex items-center gap-1">
            <span className="w-3 h-3 rounded-full bg-blue-500 inline-block"></span>
            <span className="text-blue-600">ì°©ìˆ˜</span>
          </div>
        );
      }
      return (
        <div className="flex items-center gap-1">
          <span className="text-gray-500">âš™</span>
          <span className="text-gray-600">ì§„í–‰</span>
        </div>
      );
    };

    function PMTodoApp() {
      const [activeTab, setActiveTab] = useState('list');
      
      // localStorageì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
      const [projects, setProjects] = useState(() => {
        const saved = localStorage.getItem('pm-todo-projects');
        return saved ? JSON.parse(saved) : initialProjects;
      });
      
      const [showModal, setShowModal] = useState(false);
      const [editingProject, setEditingProject] = useState(null);
      const [formData, setFormData] = useState({});
      const [currentMonth, setCurrentMonth] = useState(new Date(2026, 1, 1));
      
      const [priorityOrder, setPriorityOrder] = useState(() => {
        const saved = localStorage.getItem('pm-todo-priority');
        return saved ? JSON.parse(saved) : [];
      });
      
      const [editingFinalDelivery, setEditingFinalDelivery] = useState(null);
      
      const [todoCompleted, setTodoCompleted] = useState(() => {
        const saved = localStorage.getItem('pm-todo-completed');
        return saved ? JSON.parse(saved) : {};
      });

      // ë°ì´í„° ë³€ê²½ ì‹œ localStorageì— ì €ì¥
      useEffect(() => {
        localStorage.setItem('pm-todo-projects', JSON.stringify(projects));
      }, [projects]);

      useEffect(() => {
        localStorage.setItem('pm-todo-priority', JSON.stringify(priorityOrder));
      }, [priorityOrder]);

      useEffect(() => {
        localStorage.setItem('pm-todo-completed', JSON.stringify(todoCompleted));
      }, [todoCompleted]);

      const today = new Date();
      today.setHours(0, 0, 0, 0);
      const todayStr = today.toISOString().slice(0, 10);

      const calculateDday = (dueDate) => {
        if (!dueDate) return null;
        const due = new Date(dueDate);
        due.setHours(0, 0, 0, 0);
        const diff = Math.ceil((due - today) / (1000 * 60 * 60 * 24));
        return diff;
      };

      const projectsWithDday = useMemo(() => {
        return projects.map(p => ({
          ...p,
          dday: calculateDday(p.dueDate),
          status: calculateStatus(p, todayStr)
        }));
      }, [projects, todayStr]);

      const sortedByDday = useMemo(() => {
        const activeProjects = projectsWithDday
          .filter(p => p.status !== 'ë‚©í’ˆ')
          .sort((a, b) => {
            if (a.dday === null) return 1;
            if (b.dday === null) return -1;
            return a.dday - b.dday;
          });
        
        if (priorityOrder.length > 0) {
          const ordered = [];
          const remaining = [...activeProjects];
          
          priorityOrder.forEach(id => {
            const idx = remaining.findIndex(p => p.id === id);
            if (idx !== -1) {
              ordered.push(remaining.splice(idx, 1)[0]);
            }
          });
          
          return [...ordered, ...remaining];
        }
        
        return activeProjects;
      }, [projectsWithDday, priorityOrder]);

      // ìº˜ë¦°ë” ê´€ë ¨
      const getDaysInMonth = (date) => {
        const year = date.getFullYear();
        const month = date.getMonth();
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        const daysInMonth = lastDay.getDate();
        const startingDay = firstDay.getDay();
        
        const days = [];
        
        const prevMonth = new Date(year, month, 0);
        const prevMonthDays = prevMonth.getDate();
        for (let i = startingDay - 1; i >= 0; i--) {
          days.push({
            day: prevMonthDays - i,
            isCurrentMonth: false,
            date: new Date(year, month - 1, prevMonthDays - i)
          });
        }
        
        for (let i = 1; i <= daysInMonth; i++) {
          days.push({
            day: i,
            isCurrentMonth: true,
            date: new Date(year, month, i)
          });
        }
        
        const remainingDays = 42 - days.length;
        for (let i = 1; i <= remainingDays; i++) {
          days.push({
            day: i,
            isCurrentMonth: false,
            date: new Date(year, month + 1, i)
          });
        }
        
        return days;
      };

      const getProjectsForDate = (date) => {
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const day = String(date.getDate()).padStart(2, '0');
        const dateStr = `${year}-${month}-${day}`;
        return projects.filter(p => p.dueDate === dateStr);
      };

      const prevMonth = () => {
        setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1));
      };

      const nextMonth = () => {
        setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1));
      };

      const toggleTodoComplete = (projectId) => {
        setTodoCompleted(prev => ({
          ...prev,
          [projectId]: !prev[projectId]
        }));
      };

      const saveFinalDelivery = (projectId, date) => {
        setProjects(projects.map(p => 
          p.id === projectId ? { ...p, finalDelivery: date } : p
        ));
        setEditingFinalDelivery(null);
      };

      const openAddModal = () => {
        setEditingProject(null);
        const dateStr = new Date().toISOString().slice(0,10).replace(/-/g,'');
        const existingCodes = projects.filter(p => p.projectCode.startsWith(`P${dateStr}`));
        const nextNum = String(existingCodes.length + 1).padStart(3, '0');
        setFormData({
          projectCode: `P${dateStr}-${nextNum}`,
          projectName: '',
          client: '',
          manager: 'ê¹€ë™í™˜',
          startDate: new Date().toISOString().slice(0, 10),
          dueDate: '',
          languagePair: 'KO-EN',
          translator: '',
          translationDeadline: '',
          reviewer: '',
          reviewDeadline: '',
          finalDelivery: '',
          notes: ''
        });
        setShowModal(true);
      };

      const openEditModal = (project) => {
        setEditingProject(project);
        setFormData({ ...project });
        setShowModal(true);
      };

      const saveProject = () => {
        if (editingProject) {
          setProjects(projects.map(p => p.id === editingProject.id ? { ...formData, id: editingProject.id } : p));
        } else {
          setProjects([...projects, { ...formData, id: Date.now() }]);
        }
        setShowModal(false);
      };

      const deleteProject = (id) => {
        if (confirm('í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
          setProjects(projects.filter(p => p.id !== id));
          setPriorityOrder(priorityOrder.filter(pid => pid !== id));
        }
      };

      const tabs = [
        { id: 'list', label: 'ì „ì²´ í”„ë¡œì íŠ¸', icon: 'ğŸ“‹' },
        { id: 'schedule', label: 'ë‚©í’ˆì¼ì •', icon: 'ğŸ“…' },
        { id: 'priority', label: 'TODAY TO DO LIST', icon: 'â°' }
      ];

      const renderProjectList = () => (
        <div className="overflow-x-auto">
          <table className="w-full text-xs">
            <thead className="bg-slate-100 sticky top-0">
              <tr>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">í”„ë¡œì íŠ¸ì½”ë“œ</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">í”„ë¡œì íŠ¸ëª…</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ê³ ê°ì‚¬</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ë‹´ë‹¹ì</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ì°©ìˆ˜ì¼</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ë‚©í’ˆì˜ˆì •ì¼</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ì–¸ì–´ìŒ</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ë²ˆì—­ì‚¬</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ë²ˆì—­ê¸°í•œ</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ê°ìˆ˜ì</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ê°ìˆ˜ê¸°í•œ</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ìµœì¢…ë‚©í’ˆì¼</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">D-day</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ì§„í–‰ìƒí™©</th>
                <th className="px-2 py-2 text-left font-medium whitespace-nowrap">ë¹„ê³ </th>
                <th className="px-2 py-2 text-center font-medium whitespace-nowrap">ê´€ë¦¬</th>
              </tr>
            </thead>
            <tbody>
              {projectsWithDday.map(project => (
                <tr key={project.id} className="border-b hover:bg-slate-50">
                  <td className="px-2 py-2 font-mono">{project.projectCode}</td>
                  <td className="px-2 py-2 font-medium whitespace-nowrap">{project.projectName}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{project.client}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{project.manager}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{formatDateKorean(project.startDate)}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{formatDateKorean(project.dueDate)}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{project.languagePair}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{project.translator}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{formatDateKorean(project.translationDeadline)}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{project.reviewer}</td>
                  <td className="px-2 py-2 whitespace-nowrap">{formatDateKorean(project.reviewDeadline)}</td>
                  <td className="px-2 py-2 whitespace-nowrap">
                    {editingFinalDelivery === project.id ? (
                      <input
                        type="date"
                        defaultValue={project.finalDelivery || ''}
                        className="border rounded px-1 py-0.5 text-xs w-28"
                        autoFocus
                        onBlur={(e) => saveFinalDelivery(project.id, e.target.value)}
                        onKeyDown={(e) => {
                          if (e.key === 'Enter') saveFinalDelivery(project.id, e.target.value);
                          if (e.key === 'Escape') setEditingFinalDelivery(null);
                        }}
                      />
                    ) : (
                      <span 
                        onClick={() => setEditingFinalDelivery(project.id)}
                        className="cursor-pointer hover:bg-slate-100 px-1 py-0.5 rounded min-w-16 inline-block"
                      >
                        {project.finalDelivery ? formatDateKorean(project.finalDelivery) : <span className="text-gray-400">í´ë¦­í•˜ì—¬ ì…ë ¥</span>}
                      </span>
                    )}
                  </td>
                  <td className="px-2 py-2 whitespace-nowrap">
                    <DdayBadge dday={project.dday} finalDelivery={project.finalDelivery} />
                  </td>
                  <td className="px-2 py-2 whitespace-nowrap">
                    <StatusBadge status={project.status} />
                  </td>
                  <td className="px-2 py-2 max-w-32 truncate" title={project.notes}>{project.notes || '-'}</td>
                  <td className="px-2 py-2 text-center whitespace-nowrap">
                    <button onClick={() => openEditModal(project)} className="p-1 hover:bg-slate-200 rounded mr-1">
                      âœï¸
                    </button>
                    <button onClick={() => deleteProject(project.id)} className="p-1 hover:bg-red-100 rounded text-red-500">
                      ğŸ—‘ï¸
                    </button>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      );

      const renderCalendar = () => {
        const days = getDaysInMonth(currentMonth);
        const weekDays = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
        const monthName = `${currentMonth.getFullYear()}ë…„ ${currentMonth.getMonth() + 1}ì›”`;

        return (
          <div className="bg-white rounded-lg border">
            <div className="flex items-center justify-between p-4 border-b">
              <button onClick={prevMonth} className="p-2 hover:bg-slate-100 rounded">â—€</button>
              <h3 className="text-lg font-semibold">{monthName}</h3>
              <button onClick={nextMonth} className="p-2 hover:bg-slate-100 rounded">â–¶</button>
            </div>
            
            <div className="grid grid-cols-7">
              {weekDays.map((day, idx) => (
                <div key={day} className={`p-2 text-center text-sm font-medium border-b ${idx === 0 ? 'text-red-500' : idx === 6 ? 'text-blue-500' : 'text-gray-700'}`}>
                  {day}
                </div>
              ))}
              
              {days.map((dayInfo, idx) => {
                const dayProjects = getProjectsForDate(dayInfo.date);
                const isToday = dayInfo.date.toDateString() === today.toDateString();
                const dayOfWeek = dayInfo.date.getDay();
                
                return (
                  <div
                    key={idx}
                    className={`min-h-28 p-1 border-b border-r ${!dayInfo.isCurrentMonth ? 'bg-gray-50' : ''} ${isToday ? 'bg-blue-50' : ''}`}
                  >
                    <div className={`text-xs font-medium mb-1 ${!dayInfo.isCurrentMonth ? 'text-gray-400' : dayOfWeek === 0 ? 'text-red-500' : dayOfWeek === 6 ? 'text-blue-500' : ''} ${isToday ? 'bg-blue-500 text-white w-5 h-5 rounded-full flex items-center justify-center' : ''}`}>
                      {dayInfo.day}
                    </div>
                    <div className="space-y-1 overflow-y-auto max-h-24">
                      {dayProjects.map(p => {
                        const isDelivered = !!p.finalDelivery;
                        return (
                          <div
                            key={p.id}
                            className={`text-xs px-1.5 py-1 rounded border cursor-pointer hover:shadow-sm ${
                              isDelivered 
                                ? 'bg-gray-100 border-gray-300 text-gray-500' 
                                : 'bg-white border-gray-200 text-gray-800 hover:border-gray-400'
                            }`}
                            title={`${p.projectName} (${p.projectCode}, ${p.client})`}
                          >
                            <div className={`font-medium truncate ${isDelivered ? 'text-gray-500' : 'text-gray-800'}`}>
                              {p.projectName}
                            </div>
                            <div className={`text-[10px] truncate ${isDelivered ? 'text-gray-400' : 'text-gray-500'}`}>
                              {p.projectCode} | {p.client}
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        );
      };

      const renderPriority = () => (
        <div className="space-y-1">
          <div className="text-sm text-gray-500 mb-4">
            ì˜¤ëŠ˜ ì²˜ë¦¬í•  í”„ë¡œì íŠ¸ ëª©ë¡ì…ë‹ˆë‹¤. ì™„ë£Œ ì‹œ ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì„¸ìš”.
          </div>
          <div className="bg-white rounded-lg border divide-y">
            {sortedByDday.map((project) => {
              const isCompleted = todoCompleted[project.id];
              const isUrgent = project.dday !== null && project.dday <= 2;
              
              return (
                <div
                  key={project.id}
                  className={`flex items-center gap-3 px-4 py-3 transition-colors ${
                    isCompleted ? 'bg-gray-50' : isUrgent ? 'bg-red-50' : 'hover:bg-slate-50'
                  }`}
                >
                  <button
                    onClick={() => toggleTodoComplete(project.id)}
                    className={`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors ${
                      isCompleted 
                        ? 'bg-green-500 border-green-500 text-white' 
                        : 'border-gray-300 hover:border-gray-400'
                    }`}
                  >
                    {isCompleted && 'âœ“'}
                  </button>
                  
                  <div className={`flex-1 min-w-0 ${isCompleted ? 'opacity-50' : ''}`}>
                    <div className="flex items-center gap-2">
                      <span className={`font-medium ${isCompleted ? 'line-through text-gray-500' : 'text-gray-900'}`}>
                        {project.projectName}
                      </span>
                      <span className={`text-xs ${isCompleted ? 'text-gray-400' : 'text-gray-500'}`}>
                        {project.projectCode}
                      </span>
                    </div>
                    <div className={`text-xs ${isCompleted ? 'text-gray-400' : 'text-gray-500'}`}>
                      {project.client} Â· {project.languagePair} Â· ë²ˆì—­: {project.translator || '-'} Â· ê°ìˆ˜: {project.reviewer || '-'}
                    </div>
                  </div>
                  
                  <div className={`flex-shrink-0 ${isCompleted ? 'opacity-50' : ''}`}>
                    <DdayBadge dday={project.dday} finalDelivery={project.finalDelivery} />
                  </div>
                  
                  {project.notes && (
                    <div className={`flex-shrink-0 ${isCompleted ? 'opacity-50' : ''}`} title={project.notes}>
                      <span className="text-xs bg-yellow-100 text-yellow-700 px-1.5 py-0.5 rounded">ğŸ“</span>
                    </div>
                  )}
                </div>
              );
            })}
          </div>
          {sortedByDday.length === 0 && (
            <div className="text-center py-10 text-gray-500 bg-white rounded-lg border">
              ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.
            </div>
          )}
          
          {sortedByDday.length > 0 && (
            <div className="text-sm text-gray-500 text-right pt-2">
              ì™„ë£Œ: {Object.values(todoCompleted).filter(Boolean).length} / {sortedByDday.length}
            </div>
          )}
        </div>
      );

      return (
        <div className="min-h-screen bg-slate-50">
          <div className="bg-slate-800 text-white px-6 py-4">
            <h1 className="text-xl font-bold">KDH PM TO-DO LIST</h1>
            <p className="text-sm opacity-80">ë²ˆì—­ í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
          </div>

          <div className="border-b bg-white">
            <div className="flex">
              {tabs.map(tab => (
                <button
                  key={tab.id}
                  onClick={() => setActiveTab(tab.id)}
                  className={`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${
                    activeTab === tab.id 
                      ? 'border-slate-800 text-slate-800' 
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                >
                  <span>{tab.icon}</span>
                  {tab.label}
                </button>
              ))}
            </div>
          </div>

          <div className="p-6">
            <div className="mb-4 flex justify-between items-center">
              <h2 className="text-lg font-semibold">
                {tabs.find(t => t.id === activeTab)?.label}
              </h2>
              {activeTab === 'list' && (
                <button
                  onClick={openAddModal}
                  className="flex items-center gap-2 bg-slate-800 text-white px-4 py-2 rounded hover:bg-slate-700"
                >
                  â• í”„ë¡œì íŠ¸ ì¶”ê°€
                </button>
              )}
            </div>

            {activeTab === 'list' && renderProjectList()}
            {activeTab === 'schedule' && renderCalendar()}
            {activeTab === 'priority' && renderPriority()}
          </div>

          {showModal && (
            <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto">
                <div className="flex justify-between items-center p-4 border-b">
                  <h3 className="font-semibold">{editingProject ? 'í”„ë¡œì íŠ¸ ìˆ˜ì •' : 'ìƒˆ í”„ë¡œì íŠ¸'}</h3>
                  <button onClick={() => setShowModal(false)} className="p-1 hover:bg-slate-100 rounded">
                    âœ•
                  </button>
                </div>
                <div className="p-4 grid grid-cols-2 gap-4">
                  {[
                    { key: 'projectCode', label: 'í”„ë¡œì íŠ¸ì½”ë“œ' },
                    { key: 'projectName', label: 'í”„ë¡œì íŠ¸ëª…' },
                    { key: 'client', label: 'ê³ ê°ì‚¬' },
                    { key: 'manager', label: 'ë‹´ë‹¹ì' },
                    { key: 'startDate', label: 'ì°©ìˆ˜ì¼', type: 'date' },
                    { key: 'dueDate', label: 'ë‚©í’ˆì˜ˆì •ì¼', type: 'date' },
                    { key: 'languagePair', label: 'ì–¸ì–´ìŒ' },
                    { key: 'translator', label: 'ë²ˆì—­ì‚¬' },
                    { key: 'translationDeadline', label: 'ë²ˆì—­ê¸°í•œ', type: 'date' },
                    { key: 'reviewer', label: 'ê°ìˆ˜ì' },
                    { key: 'reviewDeadline', label: 'ê°ìˆ˜ê¸°í•œ', type: 'date' },
                    { key: 'finalDelivery', label: 'ìµœì¢…ë‚©í’ˆì¼', type: 'date' },
                  ].map(field => (
                    <div key={field.key}>
                      <label className="block text-sm font-medium text-gray-700 mb-1">{field.label}</label>
                      <input
                        type={field.type || 'text'}
                        value={formData[field.key] || ''}
                        onChange={(e) => setFormData({ ...formData, [field.key]: e.target.value })}
                        className="w-full border rounded px-3 py-2 text-sm"
                      />
                    </div>
                  ))}
                  <div className="col-span-2">
                    <label className="block text-sm font-medium text-gray-700 mb-1">ë¹„ê³ </label>
                    <textarea
                      value={formData.notes || ''}
                      onChange={(e) => setFormData({ ...formData, notes: e.target.value })}
                      className="w-full border rounded px-3 py-2 text-sm"
                      rows={2}
                    />
                  </div>
                </div>
                <div className="flex justify-end gap-2 p-4 border-t">
                  <button onClick={() => setShowModal(false)} className="px-4 py-2 border rounded hover:bg-slate-50">
                    ì·¨ì†Œ
                  </button>
                  <button onClick={saveProject} className="px-4 py-2 bg-slate-800 text-white rounded hover:bg-slate-700 flex items-center gap-2">
                    âœ“ ì €ì¥
                  </button>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<PMTodoApp />);
  </script>
</body>
</html>
